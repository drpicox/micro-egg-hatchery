{"version":3,"file":"micro-egg-hatchery.umd.js","sources":["../src/index.js"],"sourcesContent":["const makeBreedEgg = require('./makeBreedEgg')\n\nfunction hatchEgg(egg, tools, hatchedEggs) {\n  if (hatchedEggs.has(egg)) return\n  egg(tools)\n  hatchedEggs.add(egg)\n}\n\nfunction hatchEggs(eggs, tools, hatchedEggs) {\n  for (let i = 0; i < eggs.length; i++)\n    if (Array.isArray(eggs[i])) hatchEggs(eggs[i], tools, hatchedEggs)\n    else hatchEgg(eggs[i], tools, hatchedEggs)\n}\n\nexport default function hatch(...eggs) {\n  const hatchedEggs = new Set()\n  const tools = {\n    tool(name, value) {\n      tools[name] = value\n    },\n  }\n\n  const [breedEgg, getBreed] = makeBreedEgg()\n\n  hatchEgg(breedEgg, tools, hatchedEggs)\n  hatchEggs(eggs, tools, hatchedEggs)\n\n  return getBreed()\n}\n"],"names":["makeBreedEgg","require","hatchEgg","egg","tools","hatchedEggs","has","add","hatchEggs","eggs","i","length","Array","isArray","hatch","Set","tool","name","value","breedEgg","getBreed"],"mappings":";;;;;;EAAA,IAAMA,YAAY,GAAGC,OAAO,CAAC,gBAAD,CAA5B;;EAEA,SAASC,QAAT,CAAkBC,GAAlB,EAAuBC,KAAvB,EAA8BC,WAA9B,EAA2C;EACzC,MAAIA,WAAW,CAACC,GAAZ,CAAgBH,GAAhB,CAAJ,EAA0B;EAC1BA,EAAAA,GAAG,CAACC,KAAD,CAAH;EACAC,EAAAA,WAAW,CAACE,GAAZ,CAAgBJ,GAAhB;EACD;;EAED,SAASK,SAAT,CAAmBC,IAAnB,EAAyBL,KAAzB,EAAgCC,WAAhC,EAA6C;EAC3C,OAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,IAAI,CAACE,MAAzB,EAAiCD,CAAC,EAAlC;EACE,QAAIE,KAAK,CAACC,OAAN,CAAcJ,IAAI,CAACC,CAAD,CAAlB,CAAJ,EAA4BF,SAAS,CAACC,IAAI,CAACC,CAAD,CAAL,EAAUN,KAAV,EAAiBC,WAAjB,CAAT,CAA5B,KACKH,QAAQ,CAACO,IAAI,CAACC,CAAD,CAAL,EAAUN,KAAV,EAAiBC,WAAjB,CAAR;EAFP;EAGD;;EAEc,SAASS,KAAT,GAAwB;EACrC,MAAMT,WAAW,GAAG,IAAIU,GAAJ,EAApB;EACA,MAAMX,KAAK,GAAG;EACZY,IAAAA,IADY,gBACPC,IADO,EACDC,KADC,EACM;EAChBd,MAAAA,KAAK,CAACa,IAAD,CAAL,GAAcC,KAAd;EACD;EAHW,GAAd;;EAFqC,sBAQRlB,YAAY,EARJ;EAAA,MAQ9BmB,QAR8B;EAAA,MAQpBC,QARoB;;EAUrClB,EAAAA,QAAQ,CAACiB,QAAD,EAAWf,KAAX,EAAkBC,WAAlB,CAAR;;EAVqC,oCAANI,IAAM;EAANA,IAAAA,IAAM;EAAA;;EAWrCD,EAAAA,SAAS,CAACC,IAAD,EAAOL,KAAP,EAAcC,WAAd,CAAT;EAEA,SAAOe,QAAQ,EAAf;EACD;;;;;;;;"}