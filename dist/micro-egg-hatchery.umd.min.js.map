{"version":3,"file":"micro-egg-hatchery.umd.min.js","sources":["../src/index.js"],"sourcesContent":["const makeBreedEgg = require('./makeBreedEgg')\n\nfunction hatchEgg(egg, tools, hatchedEggs) {\n  if (hatchedEggs.has(egg)) return\n  egg(tools)\n  hatchedEggs.add(egg)\n}\n\nfunction hatchEggs(eggs, tools, hatchedEggs) {\n  for (let i = 0; i < eggs.length; i++)\n    if (Array.isArray(eggs[i])) hatchEggs(eggs[i], tools, hatchedEggs)\n    else hatchEgg(eggs[i], tools, hatchedEggs)\n}\n\nexport default function hatch(...eggs) {\n  const hatchedEggs = new Set()\n  const tools = {\n    tool(name, value) {\n      tools[name] = value\n    },\n  }\n\n  const [breedEgg, getBreed] = makeBreedEgg()\n\n  hatchEgg(breedEgg, tools, hatchedEggs)\n  hatchEggs(eggs, tools, hatchedEggs)\n\n  return getBreed()\n}\n"],"names":["makeBreedEgg","require","hatchEgg","egg","tools","hatchedEggs","has","add","hatchEggs","eggs","i","length","Array","isArray","Set","tool","name","value","breedEgg","getBreed"],"mappings":"uMAAA,IAAMA,EAAeC,QAAQ,kBAE7B,SAASC,EAASC,EAAKC,EAAOC,GACxBA,EAAYC,IAAIH,KACpBA,EAAIC,GACJC,EAAYE,IAAIJ,IAGlB,SAASK,EAAUC,EAAML,EAAOC,OACzB,IAAIK,EAAI,EAAGA,EAAID,EAAKE,OAAQD,IAC3BE,MAAMC,QAAQJ,EAAKC,IAAKF,EAAUC,EAAKC,GAAIN,EAAOC,GACjDH,EAASO,EAAKC,GAAIN,EAAOC,UAGnB,eACPA,EAAc,IAAIS,IAClBV,EAAQ,CACZW,cAAKC,EAAMC,GACTb,EAAMY,GAAQC,MAIWjB,IAAtBkB,OAAUC,OAEjBjB,EAASgB,EAAUd,EAAOC,8BAVKI,2BAAAA,yBAW/BD,EAAUC,EAAML,EAAOC,GAEhBc"}